{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}
<div class="content">
    <h1>Lets try to print some data using JS</h1>
    <form method="get" action="/chart">
        <button type="submit">Continue</button>
    </form>
</div>
<div>
    <h4>at least it ran</h4>
</div>
<div>
    <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
</div>
{% endblock %}

{% block scripts %}


<script type=text/javascript>
    var dict = JSON.parse('{{  jsdict  | tojson | safe  }}')
    console.log(dict)
    var xValues = Object.keys(dict)
    var yValues = Object.values(dict)
    var barColors = "blue";

    new Chart("myChart", {
            type: "bar",
            data: {
                labels: xValues,
                datasets: [{
                backgroundColor: barColors,
                data: yValues
                }]
            },
            options: {
                legend: {display: false},
                title: {
                display: true,
                text: "Comment distribution by weekday"
                }
            }
    });
</script>



{% endblock %}